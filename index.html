<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>صامد - عداد التحدي</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@500;700&display=swap');
    body {
      font-family: 'Cairo', sans-serif;
      background: linear-gradient(to right, #0f2027, #203a43, #2c5364);
      color: #ffffff;
      padding: 20px;
      text-align: center;
    }
    h1 {
      color: #10b981;
      font-size: 2.5rem;
      margin-bottom: 30px;
    }
    .box {
      padding: 20px;
      margin: 20px auto;
      max-width: 400px;
      background-color: rgba(255, 255, 255, 0.05);
      border-radius: 20px;
      backdrop-filter: blur(8px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
    }
    input[type="text"], input[type="date"] {
      width: 90%;
      padding: 12px;
      font-size: 1rem;
      border-radius: 12px;
      border: none;
      margin-top: 10px;
      margin-bottom: 10px;
      background-color: #f9fafb;
    }
    button {
      padding: 12px 20px;
      font-size: 1rem;
      border-radius: 12px;
      border: none;
      cursor: pointer;
      margin-top: 10px;
      transition: background-color 0.3s;
    }
    #searchBtn { background-color: #10b981; color: white; }
    #searchBtn:hover { background-color: #059669; }
    #resetBtn {
      background-color: transparent;
      color: #f87171;
      font-size: 0.9rem;
      text-decoration: underline;
      border: none;
      margin-top: 10px;
      display: block;
    }
    #tracker {
      margin-top: 20px;
    }
    #days {
      font-size: 3rem;
      font-weight: bold;
      color: #facc15;
      margin-top: 10px;
    }
    #message {
      font-size: 1.2rem;
      margin-top: 20px;
      color: #ffffff;
    }
    #footer {
      font-size: 0.8rem;
      color: #aaaaaa;
      margin-top: 50px;
    }
    #lostBtn {
      display: none;
      position: absolute;
      bottom: 10px;
      left: 10px;
      background-color: transparent;
      color: #ff0000;
      font-size: 1rem;
      border: none;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>كُن صامد</h1>
  <div class="box">
    <h2>أدخل رقم هاتفك</h2>
    <input type="text" id="phoneNumber" placeholder="رقم الهاتف">
    <button id="searchBtn">ابحث عن التقدم</button>
  </div>

  <div id="tracker" class="box" style="display: none;">
    <h2>أنت صامد منذ:</h2>
    <div id="days">0</div>
    <div id="message"></div>
    <button id="resetBtn">خسرت؟ اضغط هنا لإعادة التحدي</button>
  </div>

  <div id="footer">
    <p>صامد - برمجة وتصميم عبدالله علي محمد الدرويش - جميع الحقوق محفوظة.</p>
  </div>

  <!-- زر الخسارة (غير ظاهر) -->
  <button id="lostBtn" onclick="window.location.href='https://wa.me/967734799935?text=لقد%20خسرت%20وأحتاج%20إعادة%20بياناتي'">
  <script>
    // إضافة بيانات المستخدمين وبدء العداد
    const usersData = {
      "778999688": "2024-11-07",
      "778321000": "2025-04-11",
      "771111111": "2025-02-01",
      "772222222": "2025-03-01",
      "773333333": "2025-04-01",
      "774444444": "2025-05-01",
      "775555555": "2025-06-01",
      "776666666": "2025-07-01",
      "777777777": "2025-08-01",
      "778888888": "2025-09-01",
      "779999999": "2025-10-01",
      "778109077": "2025-04-11",
      "734799935": "2024-11-07"
    };

    const phoneInput = document.getElementById("phoneNumber");
    const searchBtn = document.getElementById("searchBtn");
    const resetBtn = document.getElementById("resetBtn");
    const tracker = document.getElementById("tracker");
    const daysDisplay = document.getElementById("days");
    const messageDisplay = document.getElementById("message");
    const lostBtn = document.getElementById("lostBtn");

    // قراءة البيانات المخزنة في localStorage عند تحميل الصفحة
    const storedPhone = localStorage.getItem("storedPhone");
    if (storedPhone) {
      phoneInput.value = storedPhone;
      searchForUser(storedPhone); // إذا كان هناك رقم هاتف مخزن سابقًا، يتم العثور على المستخدم مباشرة
    }

    searchBtn.onclick = () => {
      const phone = phoneInput.value.trim();
      if (phone) {
        localStorage.setItem("storedPhone", phone); // حفظ رقم الهاتف في localStorage
        searchForUser(phone);
      }
    };

    function searchForUser(phone) {
      if (usersData[phone]) {
        const startDate = new Date(usersData[phone]);
        const now = new Date();
        const diff = Math.floor((now - startDate) / (1000 * 60 * 60 * 24)) + 1; // العداد يبدأ من 1
        daysDisplay.textContent = diff;
        tracker.style.display = 'block';
        lostBtn.style.display = 'block'; // إظهار زر الخسارة
        showMotivation(diff);

        resetBtn.onclick = () => {
          // إرسال رسالة على واتساب عند الضغط على زر "خسرت"
          window.location.href = `https://wa.me/967734799935?text=لقد%20خسرت%20وأحتاج%20إعادة%20بياناتي%20لرقم%20${phone}`;
        };
      } else {
        alert("لم يتم العثور على هذا الرقم.");
      }
    }

    // إظهار الرسائل التحفيزية بناءً على عدد الأيام
    function showMotivation(days) {
      if (days < 10) {
        messageDisplay.textContent = "أنت في البداية، لا تستسلم! الطريق طويل لكنك قادر على النجاح.";
      } else if (days >= 10 && days < 30) {
        messageDisplay.textContent = "لقد مررت بعشرة أيام! رائع، أنت على الطريق الصحيح.";
      } else if (days >= 30 && days < 50) {
        messageDisplay.textContent = "أنت بطل! 30 يومًا بدون تراجع! استمر في التقدم.";
      } else if (days >= 50 && days < 100) {
        messageDisplay.textContent = "50 يومًا من الصمود! أنت تظهر قوة غير عادية، فخورون بك.";
      } else if (days >= 100 && days < 200) {
        messageDisplay.textContent = "100 يوم! لم يعد هناك شيء يقف في طريقك، استمر في مسيرتك!";
      } else if (days >= 200 && days < 365) {
        messageDisplay.textContent = "أنت شخص استثنائي! 200 يوم من العزيمة والإرادة.";
      } else if (days >= 365) {
        messageDisplay.textContent = "عام كامل! تخطيت المستحيل! أنت الآن أسطورة الصمود!";
      }
    }

  </script>
</body>
</html>