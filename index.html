<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>صامد - عداد التحدي</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@500;700&display=swap');
    body {
      font-family: 'Cairo', sans-serif;
      background: linear-gradient(to right, #0f2027, #203a43, #2c5364);
      color: #ffffff;
      padding: 20px;
      text-align: center;
    }
    h1 {
      color: #10b981;
      font-size: 2.5rem;
      margin-bottom: 30px;
    }
    .box {
      padding: 20px;
      margin: 20px auto;
      max-width: 400px;
      background-color: rgba(255, 255, 255, 0.05);
      border-radius: 20px;
      backdrop-filter: blur(8px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
    }
    input[type="text"], input[type="date"] {
      width: 90%;
      padding: 12px;
      font-size: 1rem;
      border-radius: 12px;
      border: none;
      margin-top: 10px;
      margin-bottom: 10px;
      background-color: #f9fafb;
    }
    button {
      padding: 12px 20px;
      font-size: 1rem;
      border-radius: 12px;
      border: none;
      cursor: pointer;
      margin-top: 10px;
      transition: background-color 0.3s;
    }
    #searchBtn { background-color: #10b981; color: white; }
    #searchBtn:hover { background-color: #059669; }
    #tracker {
      margin-top: 20px;
    }
    #days {
      font-size: 3rem;
      font-weight: bold;
      color: #facc15;
      margin-top: 10px;
    }
    #message {
      font-size: 1.2rem;
      margin-top: 20px;
      color: #ffffff;
    }
    #footer {
      font-size: 0.8rem;
      color: #aaaaaa;
      margin-top: 50px;
    }
  </style>
</head>
<body>
  <h1>كُن صامد</h1>
  <div class="box">
    <h2>أدخل رقم هاتفك</h2>
    <input type="text" id="phoneNumber" placeholder="رقم الهاتف">
    <button id="searchBtn">ابحث عن التقدم</button>
  </div>

  <div id="tracker" class="box" style="display: none;">
    <h2>أنت صامد منذ:</h2>
    <div id="days">0</div>
    <div id="message"></div>
    <h3 id="userName">الاسم: </h3>
  </div>

  <div id="footer">
    <p>صامد - برمجة وتصميم عبدالله علي محمد الدرويش - جميع الحقوق محفوظة.</p>
  </div>

  <script>
    // قاعدة بيانات الأرقام والأسماء
    const usersData = {
      "778999688": { name: "عبدالله الدرويش", startDate: "2024-11-07" },
      "778321000": { name: "طه الجعدبي", startDate: "2025-04-11" },
      "775759491": { name: "عبدالوهاب المخلافي", startDate: "2025-04-11" },
      "772222222": { name: "بدون اسم", startDate: "2025-01-01" },
      "773333333": { name: "بدون اسم", startDate: "2025-01-01" },
      "774444444": { name: "بدون اسم", startDate: "2025-01-01" },
      "775555555": { name: "بدون اسم", startDate: "2025-01-01" },
      "776666666": { name: "بدون اسم", startDate: "2025-01-01" },
      "777777777": { name: "بدون اسم", startDate: "2025-01-01" },
      "778109077": { name: "محمد اسكندر", startDate: "2025-04-11" },
      "734799935": { name: "عبدالله الدرويش", startDate: "2024-11-07" },
      "778888888": { name: "بدون اسم", startDate: "2025-01-01" },
      "779999999": { name: "بدون اسم", startDate: "2025-01-01" }
    };

    const phoneInput = document.getElementById("phoneNumber");
    const searchBtn = document.getElementById("searchBtn");
    const tracker = document.getElementById("tracker");
    const daysDisplay = document.getElementById("days");
    const messageDisplay = document.getElementById("message");
    const userNameDisplay = document.getElementById("userName");

    // قراءة البيانات المخزنة في localStorage عند تحميل الصفحة
    const storedPhone = localStorage.getItem("storedPhone");
    if (storedPhone) {
      phoneInput.value = storedPhone;
      searchForUser(storedPhone); // إذا كان هناك رقم هاتف مخزن سابقًا، يتم العثور على المستخدم مباشرة
    }

    searchBtn.onclick = () => {
      const phone = phoneInput.value.trim();
      if (phone) {
        localStorage.setItem("storedPhone", phone); // حفظ رقم الهاتف في localStorage
        searchForUser(phone);
      }
    };

    function searchForUser(phone) {
      if (usersData[phone]) {
        const startDate = new Date(usersData[phone].startDate);
        const now = new Date();
        const diff = Math.floor((now - startDate) / (1000 * 60 * 60 * 24)) + 1; // العداد يبدأ من 1
        daysDisplay.textContent = diff;
        userNameDisplay.textContent = "الاسم: " + usersData[phone].name;
        tracker.style.display = 'block';
        showMotivation(diff);
      } else {
        alert("لم يتم العثور على هذا الرقم.. قل للدرويش يسجلك");
      }
    }

    // إظهار الرسائل التحفيزية بناءً على عدد الأيام
    function showMotivation(days) {
      if (days < 10) {
        messageDisplay.textContent = "أنت في البداية، لا تستسلم! الطريق طويل لكنك قادر على النجاح.";
      } else if (days >= 10 && days < 30) {
        messageDisplay.textContent = "لقد مررت بعشرة أيام! رائع، أنت على الطريق الصحيح.";
      } else if (days >= 30 && days < 50) {
        messageDisplay.textContent = "أنت بطل! 30 يومًا بدون تراجع! استمر في التقدم.";
      } else if (days >= 50 && days < 100) {
        messageDisplay.textContent = "50 يومًا من الصمود! أنت تظهر قوة غير عادية، فخورون بك.";
      } else if (days >= 100 && days < 200) {
        messageDisplay.textContent = "100 يوم! لم يعد هناك شيء يقف في طريقك، استمر في مسيرتك!";
      } else if (days >= 200 && days < 365) {
        messageDisplay.textContent = "أنت شخص استثنائي! 200 يوم من العزيمة والإرادة.";
      } else if (days >= 365) {
        messageDisplay.textContent = "عام كامل! تخطيت المستحيل! أنت الآن أسطورة الصمود!";
      }
    }
  </script>
</body>
</html>